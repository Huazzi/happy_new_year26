# 新年祝福项目优化计划

## 问题分析

通过分析当前代码，发现两个主要问题：

### 1. 倒计时重叠问题
- **现象**：倒计时期间，`greeting-container`（包含“亲爱的友人，新年快乐！点击接收新年祝福～”和按钮）仍然显示，与倒计时数字重叠。
- **原因**：`App.jsx`中，`showTime`状态控制倒计时显示，但`greeting-container`的显示仅由`showPresent`控制。当用户点击按钮后，`showTime`变为`true`，但`greeting-container`并未隐藏。
- **解决方案**：在`showTime`为`true`时隐藏`greeting-container`，仅显示倒计时。

### 2. 文字显示问题
- **现象**：“新年新开始”和“祝福送给你”两个文字无法显示。
- **原因**：`Present.jsx`的`useEffect`中，一加载就立即将这两个文字的`opacity`设为0（第56-57行），导致它们被隐藏。10秒后才将`textone`的内容替换为“🎊 新年快乐！漫天星空，祝福满满！🎊”并显示，但初始文字从未出现。
- **解决方案**：调整显示逻辑，让初始文字显示几秒后淡出，再显示新内容（根据用户选择的选项2）。

## 具体修改方案

### 修改文件1: `src/App.jsx`
1. **隐藏greeting-container**：
   - 在`greeting-container`的显示条件中加入`&& !showTime`，确保倒计时期间隐藏。
   - 修改第85-102行的渲染逻辑。

2. **保持倒计时居中**：
   - 现有的`.time-div`样式已居中，无需修改。

### 修改文件2: `src/Present.jsx`
1. **调整初始文字显示逻辑**：
   - 移除立即设置`opacity: 0`的代码。
   - 添加状态控制：初始显示文字，3秒后淡出，10秒后显示新内容。
   - 使用CSS过渡实现淡入淡出效果。

2. **优化时间线**：
   - 0-3秒：显示“新年新开始”和“祝福送给你”。
   - 3-4秒：淡出效果。
   - 4-10秒：等待（可能显示星空背景）。
   - 10秒后：显示“🎊 新年快乐！漫天星空，祝福满满！🎊”。

### 修改文件3: `src/index.css`
1. **添加淡出动画**：
   - 定义`fadeOut`关键帧。
   - 为`.text`和`.textone`添加过渡类。

2. **确保z-index正确**：
   - 检查各层叠顺序，避免遮挡。

## 实施步骤

1. **修改App.jsx** - 修复倒计时重叠
2. **修改Present.jsx** - 修复文字显示
3. **修改index.css** - 添加动画样式
4. **测试验证** - 在浏览器中检查效果

## 预期效果

- 用户点击“开始祝福”按钮后，`greeting-container`立即消失，显示倒计时数字（3,2,1）。
- 倒计时结束后，进入Present组件，首先看到“新年新开始”和“祝福送给你”显示3秒。
- 文字淡出后，星空背景和漂浮祝福词继续显示。
- 10秒后，中央显示“🎊 新年快乐！漫天星空，祝福满满！🎊”的华丽效果。

## 风险与注意事项

- 时间线调整可能影响现有动画同步，需确保各定时器协调。
- 淡出动画的CSS可能需要兼容性测试。
- 确保移动端响应式布局不受影响。

## 后续建议

- 可考虑添加更多交互效果，如用户点击祝福词触发特效。
- 优化视频背景加载性能。
- 添加声音背景增强节日氛围。

---
**创建时间**: 2026-02-16 23:46 (UTC+8)
**状态**: 待用户批准